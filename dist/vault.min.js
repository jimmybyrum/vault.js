!function o(n,a,s){function i(t,e){if(!a[t]){if(!n[t]){var r="function"==typeof require&&require;if(!e&&r)return r(t,!0);if(u)return u(t,!0);throw(r=new Error("Cannot find module '"+t+"'")).code="MODULE_NOT_FOUND",r}r=a[t]={exports:{}},n[t][0].call(r.exports,function(e){return i(n[t][1][e]||e)},r,r.exports,o,n,a,s)}return a[t].exports}for(var u="function"==typeof require&&require,e=0;e<s.length;e++)i(s[e]);return i}({1:[function(e,n,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,a=e("./lib/browser.js"),s=(r=e("./lib/memory.js"))&&r.__esModule?r:{default:r},o=e("./lib/cleanup.js"),i=e("fs");i={version:JSON.parse((0,i.readFileSync)("./package.json")).version,Cookie:a.Cookie,Local:a.Local,Session:a.Session,Memory:s.default,startCleanup:o.start,stopCleanup:o.stop,setIntervalLength:o.setIntervalLength,getIntervalLength:o.getIntervalLength,set:function(e,t,r){n.exports.remove(e);var o=r&&r.expires;("page"===o?s.default:"session"===o?a.Session:a.Local).set(e,t,r)},get:function(e){for(var t=[s.default,a.Session,a.Local,a.Cookie],r=0;r<t.length;r++){var o=t[r].get(e);if(void 0!==o)return o}},list:function(e){console.log("--== Memory ==--"),s.default.list(e),console.log("----------------"),console.log("--== Session ==--"),a.Session.list(e),console.log("----------------"),console.log("--== Local ==--"),a.Local.list(e),console.log("----------------"),console.log("--== Cookie ==--"),a.Cookie.list(e),console.log("----------------")},getLists:function(){return{Memory:s.default.getList(),Session:a.Session.getList(),Local:a.Local.getList(),Cookie:a.Cookie.getList()}},remove:function(e){s.default.remove(e),a.Session.remove(e),a.Local.remove(e),a.Cookie.remove(e)},clear:function(){s.default.clear(),a.Session.clear(),a.Local.clear(),a.Cookie.clear()}};t.default=i,(0,o.start)([a.Cookie,a.Local,a.Session,s.default])},{"./lib/browser.js":2,"./lib/cleanup.js":3,"./lib/memory.js":7,fs:11}],2:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.Session=r.Local=r.Cookie=void 0;var a=e("./meta.js"),s=e("./config.js"),i=o(e("./cookie.js")),u=o(e("./prepare.js")),l=o(e("./parse.js"));function o(e){return e&&e.__esModule?e:{default:e}}var n=function(o){try{var n=window[o],e="vault-test";try{n.foo;n.setItem(e,"bar"),n.removeItem(e)}catch(e){n=void 0}}catch(e){n=void 0}return n?{type:o,get:function(e,t){if(void 0===n[e])return t;if((0,a.checkKeyMeta)(n,e))return t;e=(0,l.default)(n[e]);return e&&e.value||e},getAndRemove:function(e){var t=this.get(e);return this.remove(e),t},getList:function(){var e,t=[];for(e in n){var r={},o=this.get(e);r[e]=o,t.push(r)}return t},set:function(e,t,r){if(!e)return console.warn("Vault: set was called with no key.",e);try{return(0,a.setKeyMeta)(n,e,r),n.setItem(e,(0,u.default)(t))}catch(e){console.warn("Vault: I cannot write to localStoarge even though localStorage is supported. Perhaps you are using your browser in private mode? Here is the error: ",e)}},remove:function(e){return(0,a.clearKeyMeta)(n,e),n.removeItem(e)},clear:function(){return n.clear()},list:function(e){var t,r;if(0!==n.length)for(t in n)t!==s.vaultData&&(r=e?(0,l.default)(n[t]):this.get(t),console.log(t,"=",r));else console.log("0 items in",o)}}:(console.warn("Vault: "+o+" is not suppored. I will attempt to use Cookies instead."),i.default)},e=n("localStorage");r.Local=e;n=n("sessionStorage");r.Session=n;n=i.default;r.Cookie=n},{"./config.js":4,"./cookie.js":5,"./meta.js":8,"./parse.js":9,"./prepare.js":10}],3:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.stop=r.start=r.setIntervalLength=r.getIntervalLength=void 0;var o,n=[],a=!0,s=5e3,i=!1;r.start=function(e){!e&&n?e=n:n=e,function e(t){t.forEach(function(e){try{e.getList()}catch(e){i||(i=!0,console.warn("interval error",e))}});a&&(o=setTimeout(function(){e(t)},s))}(e)};r.stop=function(){a=!1,clearTimeout(o)};r.getIntervalLength=function(){return s};r.setIntervalLength=function(e){s=e}},{}],4:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.vaultFile=r.vaultData=void 0;r.vaultFile="/.vault.json";r.vaultData="__vaultData"},{}],5:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var i=n(e("./prepare.js")),o=n(e("./parse.js")),u=n(e("./getExpires.js"));function n(e){return e&&e.__esModule?e:{default:e}}var s="undefined"!=typeof window,e={type:"cookie",parse:function(e){return(0,o.default)(decodeURIComponent(e))},get:function(e,t){for(var r=document.cookie.split(";"),o=r.length,n=0;n<o;n++){var a=r[n].split("=");if(a[0]=a[0].replace(/^[ ]/,""),a[0]===e)return this.parse(a[1])}return t},getAndRemove:function(e,t){var r=this.get(e);return this.remove(e,t),r},getList:function(){var e=[];if(s&&""!==document.cookie)for(var t=document.cookie.split(";"),r=t.length,o=0;o<r;o++){var n=t[o].split("=");n[0]=n[0].replace(/^[ ]/,"");var a={};a[n[0]]=this.parse(n[1]),e.push(a)}return e},set:function(e,t,r){if(!e)return console.warn("Vault: set was called with no key.",e);var o="";r&&r.expires&&(o="; expires="+(0,u.default)(r).toUTCString());var n="";r&&r.max_age&&(n="; max-age="+r.max_age);var a="";r&&r.domain&&(a="; domain="+r.domain);var s="";r&&r.path&&(s="; path="+r.path);r=r&&r.secure?"; secure":"";t=encodeURIComponent((0,i.default)(t))+s+a+n+o+r,document.cookie=e+"="+t},remove:function(e,t){(t=t||{}).expires="1970-01-01T00:00:01Z",this.set(e,"",t)},clear:function(){for(var e=document.cookie.split(";"),t=e.length,r=0;r<t;r++){var o=e[r].split("=");o[0]=o[0].replace(/^[ ]/,""),this.remove(o[0])}},list:function(){var e=document.cookie.split(";"),t=e.length;if(""!==document.cookie&&0!==t)for(var r=0;r<t;r++){var o=e[r].split("=");o[0]=o[0].replace(/^[ ]/,""),console.log(o[0],"=",this.parse(o[1]))}else console.log("0 cookies")}};r.default=e},{"./getExpires.js":6,"./parse.js":9,"./prepare.js":10}],6:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(e.expires.match(/^(\+|\-)\d+\s\w+/)){var t=new Date,r=e.expires.substring(0,1),o=e.expires.substring(1).split(" "),n=parseInt(o[0],10),a=o[1];switch(a){case"millisecond":case"milliseconds":a="Milliseconds";break;case"second":case"seconds":a="Seconds";break;case"minute":case"minutes":a="Minutes";break;case"hour":case"hours":a="Hours";break;case"day":case"days":a="Date";break;case"month":case"months":a="Month";break;case"year":case"years":a="FullYear"}return"-"===r?t["set"+a](t["get"+a]()-n):t["set"+a](t["get"+a]()+n),t}return new Date(e.expires)}},{}],7:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=void 0;var o,n=e("./meta.js"),a=(o=e("./parse.js"))&&o.__esModule?o:{default:o},s=e("./config.js");var i={},u={type:"Memory",get:function(e,t){if((0,n.checkKeyMeta)(this,e))return t;e=i[e];return void 0===e?t:(0,a.default)(e)},getItem:function(e,t){return this.get(e,t)},getAndRemove:function(e){var t=i[e];return delete i[e],t},getList:function(){var e,t=[];for(e in i){var r={},o=this.get(e);r[e]=o,t.push(r)}return t},set:function(e,t,r){return e?(i[e]=t,(0,n.setKeyMeta)(this,e,r),i[e]):console.warn("Vault: set was called with no key.",e)},setItem:function(e,t,r){return this.set(e,t,r)},remove:function(e){try{delete i[e]}catch(e){}},removeItem:function(e){this.remove(e)},clear:function(){i={}},list:function(){for(var e in i)e!==s.vaultData&&console.log(e,"=",i[e])}};r.default=u},{"./config.js":4,"./meta.js":8,"./parse.js":9}],8:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.setKeyMeta=r.getKeyMeta=r.getData=r.clearKeyMeta=r.checkKeyMeta=void 0;var a=e("./config.js"),s=o(e("./prepare.js")),i=o(e("./parse.js")),u=o(e("./getExpires.js"));function o(e){return e&&e.__esModule?e:{default:e}}function l(e){return e="string"==typeof(e=(e=e.getItem(a.vaultData))||{})?JSON.parse(e):e}r.getData=l;r.setKeyMeta=function(e,t,r){if(t===a.vaultData)return!1;r=r||{};var o,n=l(e);n[t]||(n[t]={}),r.expires?(o=(0,u.default)(r),n[t].expires=o&&o.valueOf()):delete n[t].expires,r.path?n[t].path=r.path:delete n[t].path,e.setItem(a.vaultData,(0,s.default)(n))};function c(e,t){if(t===a.vaultData)return!1;try{return l(e)[t]}catch(e){return}}r.getKeyMeta=c;function f(e,t){if(t===a.vaultData)return!1;try{var r=l(e);delete r[t],e.setItem(a.vaultData,(0,s.default)(r))}catch(e){}}r.clearKeyMeta=f;r.checkKeyMeta=function(e,t){if(t===a.vaultData)return!1;try{var r=(0,i.default)(e[t]),o=c(e,t);if(o){if(o.path&&"undefined"!=typeof window)if(!(window.location.pathname||window.location.path).match(o.path))return!0;if(!o.expires&&r&&r.expires&&(o.expires=r.expires),o.expires&&o.expires<=new Date){var n=new Date(o.expires).toString();return console.log("Removing expired item: "+t+". It expired on: "+n),f(e,t),e.removeItem(t),!0}}}catch(e){console.warn("Vault Error:",e)}return!1}},{"./config.js":4,"./getExpires.js":6,"./parse.js":9,"./prepare.js":10}],9:[function(e,t,r){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(t){if(null==t||"undefined"===t)return;if("null"===t)return null;if(!0===t||"true"===t)return!0;if(!1===t||"false"===t)return!1;if(""!==t&&!isNaN(Number(t)))return+t;if(t.indexOf&&(0===t.indexOf("{")||0===t.indexOf("[")))try{return JSON.parse(t)}catch(e){return console.warn("Parse error",t),t}return t}},{}],10:[function(e,t,r){"use strict";function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(r,"__esModule",{value:!0}),r.default=function(e){if(null==e)return e;e&&e.indexOf&&(0===e.indexOf("{")||0===e.indexOf("["))&&(e=JSON.parse(e));if("object"===o(e))try{return JSON.stringify(e)}catch(e){console.warn("Prepare: JSON error",e)}return e}},{}],11:[function(e,t,r){},{}]},{},[1]);