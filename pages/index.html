<!DOCTYPE html>
<html lang="en">
<head>
  <title>vault.js</title>
  <link rel="stylesheet" href="https://unpkg.com/mocha@9.1.3/mocha.css"></link>
<style>
html,
body {
  padding: 1rem;
  font-family: sans-serif;
}
fieldset {
  margin-bottom: 1em;
}
p {
  margin-top: 1em;
}
.docs {
  font-size: 18px;
}
#mocha-stats {
  position: relative;
}
#mocha-stats .progress {
  float: none;
}
</style>
</head>
<body>

<div class="container">

  <div class="row">
    <div class="col-sm-12">
      <h1>vault.js</h1>
      <h2>Key-Value Storage of true data types for the browser and node</h2>
    </div>
  </div>

  <div class="row">
    <div class="col-sm-6">
      <h3>Browser</h3>

      <h4>Open the console</h4>

      <form id="set">
        <fieldset>
          <div class="input-group">
            <div class="input-group-addon">storage</div>
            <select id="type" class="form-control">
              <option value="Local">localStorage</option>
              <option value="Session">sessionStorage</option>
              <option value="Cookie">Cookie</option>
              <option value="Memory">Memory</option>
            </select>
          </div>
          <div class="input-group">
            <div class="input-group-addon">name</div>
            <input type="text" value="Jimmy" id="name" placeholder="name" class="form-control">
          </div>
          <div class="input-group">
            <div class="input-group-addon">age</div>
            <input type="number" value="33" id="number" placeholder="age" class="form-control">
          </div>
          <div class="input-group">
            <div class="input-group-addon">array</div>
            <input type="text" value="[7,13,27]" id="arr" class="form-control">
          </div>
          <div class="input-group">
            <div class="input-group-addon">object</div>
            <input type="text" value='{ "name":"Jimmy", "age":33 }' id="obj" class="form-control">
          </div>
        </fieldset>
        <input type="submit" value="set values"/>
        <button id="list">List all values</button>
        <button id="clear">Clear all values</button>
      </form>

      <p>You can also set <code>path</code> and <code>expires</code> on local/sessionStorage.</p>
    </div>

    <div class="col-sm-6">
      <h3>Node</h3>
      <p><code>npm install vault.js</code></p>
      <a class="docs" href="https://github.com/jimmybyrum/vault.js"><i class="fa fa-book"></i> Full documentation on Github</a>
      <p><a href="https://github.com/jimmybyrum/vault.js/actions/workflows/build.yaml"><img src="https://github.com/jimmybyrum/vault.js/actions/workflows/build.yaml/badge.svg" alt="build"></a></p>
    </div>
  </div>

  <div id="mocha"></div>
</div>

<a href="https://github.com/jimmybyrum/vault.js"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/365986a132ccd6a44c23a9169022c0b5c890c387/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f7265645f6161303030302e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_red_aa0000.png"></a>
</body>
<script src="./vault.min.js"></script>
<script src="https://unpkg.com/chai@4.3.4/chai.js"></script>
<script src="https://unpkg.com/mocha@9.1.3/mocha.js"></script>
<script class="mocha-init">
(function () {
  mocha.setup('bdd');
  mocha.checkLeaks();
}());
</script>
<script src="./test.index.js"></script>
<script>
(function () {
  const setForm = document.getElementById('set');
  const listBtn = document.getElementById('list');
  const clearBtn = document.getElementById('clear');
  const typeField = document.getElementById('type');
  const nameField = document.getElementById('name');
  const numberField = document.getElementById('number');
  const arrField = document.getElementById('arr');
  const objField = document.getElementById('obj');
  setForm.addEventListener('submit', (e) => {
    e.preventDefault();
    const _type = typeField.value;
    const _name = nameField.value;
    console.log(`executing: Vault.${_type}.set('name', ${_name})`);
    Vault[_type].set('name', _name, '2014-05-07');
    const _number = numberField.value;
    console.log(`executing: Vault.${_type}.set('age', ${_number})`);
    Vault[_type].set('age', _number);
    const _arr = arrField.value;
    console.log(`executing: Vault.${_type}.set('arr', ${_arr})`);
    Vault[_type].set('arr', _arr);
    const _obj = objField.value;
    console.log(`executing: Vault.${_type}.set('obj', ${_obj})`);
    Vault[_type].set('obj', _obj);
  });
  listBtn.addEventListener('click', (e) => {
    e.preventDefault();
    const _type = typeField.value;
    console.log(`executing: Vault.${_type}.list()`);
    Vault[_type].list();
  });
  clearBtn.addEventListener('click', (e) => {
    e.preventDefault();
    const _type = typeField.value;
    console.log(`executing: Vault.${_type}.clear()`);
    Vault[_type].clear();
  });
}());
</script>
<script class="mocha-exec">
  mocha.run();
</script>
</html>
